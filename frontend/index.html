<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta name="description" content="Oko — Your Infrastructure in Sight." />
    <meta name="theme-color" content="#0f1724" />
    <meta name="color-scheme" content="dark" />
    <script>
      (() => {
        const storageKey = "oko:theme-mode:v1";
        const prefersDarkQuery = "(prefers-color-scheme: dark)";
        const root = document.documentElement;
        const normalizeThemeMode = (value) => {
          const normalized = String(value || "")
            .trim()
            .toLowerCase();
          if (normalized === "dark" || normalized === "light" || normalized === "system") {
            return normalized;
          }
          return "system";
        };

        let mode = "system";
        try {
          mode = normalizeThemeMode(window.localStorage?.getItem(storageKey));
        } catch {
          mode = "system";
        }

        const prefersDark = window.matchMedia?.(prefersDarkQuery).matches;
        const appliedTheme = mode === "system" ? (prefersDark ? "dark" : "light") : mode;
        root.dataset.themeMode = mode;
        root.dataset.theme = appliedTheme;
        root.style.setProperty("--theme-color-scheme", appliedTheme);

        const colorSchemeMeta = document.querySelector('meta[name="color-scheme"]');
        if (colorSchemeMeta) {
          colorSchemeMeta.setAttribute("content", appliedTheme);
        }
        const themeColorMeta = document.querySelector('meta[name="theme-color"]');
        if (themeColorMeta) {
          themeColorMeta.setAttribute(
            "content",
            appliedTheme === "dark" ? "#0f1724" : "#e9f0f5",
          );
        }
      })();
    </script>
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Oko" />
    <meta name="application-name" content="Oko" />
    <meta
      name="format-detection"
      content="telephone=no, email=no, address=no, date=no"
    />
    <title>Oko — Your Infrastructure in Sight</title>
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/static/img/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/static/img/favicon-32x32.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/static/img/apple-touch-icon.png"
    />
    <link rel="manifest" href="/static/site.webmanifest" />
    <link rel="shortcut icon" href="/static/img/favicon-32x32.png" />
    <link
      rel="preload"
      href="/static/fonts/space-grotesk-latin.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/static/fonts/cinzel-latin.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
