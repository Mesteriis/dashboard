import{o as r,c as m,k as t,B as d,E as n,u as e,G as f,F as h,m as k,t as b,H as $,l as g,i as v,q as y,s as x,p as U}from"./vendor-DIhYXxpQ.js";import{u as _}from"./index-BVNRRkxR.js";import{_ as V}from"./BaseModal-CUtSK17p.js";import"./vendor-icons-BwIvosaC.js";const I={class:"editor-grid"},E={class:"editor-field"},S=["disabled"],w={class:"editor-field"},M=["disabled"],B={class:"editor-field"},R=["disabled"],C={class:"editor-field"},P=["disabled"],A={class:"editor-field"},D=["disabled"],F={class:"editor-field"},L=["disabled"],T={class:"editor-field"},q=["disabled"],H={class:"editor-field"},N=["disabled"],G={__name:"ItemEditorBaseFields",setup(c){const u=_(),{itemEditor:o}=u;return(a,l)=>(r(),m(h,null,[t("div",I,[t("label",E,[l[8]||(l[8]=t("span",null,"ID",-1)),d(t("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>e(o).form.id=s),type:"text",placeholder:"auto (из названия)",autocomplete:"off",disabled:e(o).submitting},null,8,S),[[n,e(o).form.id,void 0,{trim:!0}]])]),t("label",w,[l[9]||(l[9]=t("span",null,"Название",-1)),d(t("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>e(o).form.title=s),type:"text",placeholder:"Например: Grafana",autocomplete:"off",disabled:e(o).submitting,required:""},null,8,M),[[n,e(o).form.title,void 0,{trim:!0}]])]),t("label",B,[l[11]||(l[11]=t("span",null,"Тип",-1)),d(t("select",{"onUpdate:modelValue":l[2]||(l[2]=s=>e(o).form.type=s),disabled:e(o).submitting},[...l[10]||(l[10]=[t("option",{value:"link"},"link",-1),t("option",{value:"iframe"},"iframe",-1)])],8,R),[[f,e(o).form.type]])]),t("label",C,[l[12]||(l[12]=t("span",null,"URL",-1)),d(t("input",{"onUpdate:modelValue":l[3]||(l[3]=s=>e(o).form.url=s),type:"url",placeholder:"https://service.example.com",autocomplete:"off",disabled:e(o).submitting,required:""},null,8,P),[[n,e(o).form.url,void 0,{trim:!0}]])]),t("label",A,[l[13]||(l[13]=t("span",null,"Иконка",-1)),d(t("input",{"onUpdate:modelValue":l[4]||(l[4]=s=>e(o).form.icon=s),type:"text",placeholder:"proxmox, grafana...",autocomplete:"off",disabled:e(o).submitting},null,8,D),[[n,e(o).form.icon,void 0,{trim:!0}]])]),t("label",F,[l[14]||(l[14]=t("span",null,"Site",-1)),d(t("input",{"onUpdate:modelValue":l[5]||(l[5]=s=>e(o).form.siteInput=s),type:"text",placeholder:"Spain, RF",autocomplete:"off",disabled:e(o).submitting},null,8,L),[[n,e(o).form.siteInput,void 0,{trim:!0}]])]),t("label",T,[l[16]||(l[16]=t("span",null,"Открытие",-1)),d(t("select",{"onUpdate:modelValue":l[6]||(l[6]=s=>e(o).form.open=s),disabled:e(o).submitting},[...l[15]||(l[15]=[t("option",{value:"new_tab"},"new_tab",-1),t("option",{value:"same_tab"},"same_tab",-1)])],8,q),[[f,e(o).form.open]])])]),t("label",H,[l[17]||(l[17]=t("span",null,"Теги (через запятую)",-1)),d(t("input",{"onUpdate:modelValue":l[7]||(l[7]=s=>e(o).form.tagsInput=s),type:"text",placeholder:"infra, monitoring",autocomplete:"off",disabled:e(o).submitting},null,8,N),[[n,e(o).form.tagsInput,void 0,{trim:!0}]])])],64))}},O={class:"editor-section"},j={class:"editor-grid"},z={class:"editor-field"},J=["disabled"],K={class:"editor-field"},Q=["disabled"],W={class:"editor-field"},X=["disabled"],Y={class:"editor-field"},Z=["disabled"],tt=["value"],et={__name:"ItemEditorIframeSection",setup(c){const u=_(),{itemEditor:o,authProfileOptions:a}=u;return(l,s)=>(r(),m("section",O,[s[10]||(s[10]=t("div",{class:"editor-section-title"},[t("span",null,"Iframe-настройки")],-1)),t("div",j,[t("label",z,[s[5]||(s[5]=t("span",null,"Sandbox",-1)),d(t("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>e(o).form.iframeSandboxMode=i),disabled:e(o).submitting},[...s[4]||(s[4]=[t("option",{value:"default"},"default",-1),t("option",{value:"enabled"},"enabled",-1),t("option",{value:"disabled"},"disabled",-1)])],8,J),[[f,e(o).form.iframeSandboxMode]])]),t("label",K,[s[6]||(s[6]=t("span",null,"Allow (через запятую)",-1)),d(t("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>e(o).form.iframeAllowInput=i),type:"text",placeholder:"fullscreen, clipboard-read",autocomplete:"off",disabled:e(o).submitting},null,8,Q),[[n,e(o).form.iframeAllowInput,void 0,{trim:!0}]])]),t("label",W,[s[7]||(s[7]=t("span",null,"Referrer policy",-1)),d(t("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>e(o).form.iframeReferrerPolicy=i),type:"text",placeholder:"no-referrer",autocomplete:"off",disabled:e(o).submitting},null,8,X),[[n,e(o).form.iframeReferrerPolicy,void 0,{trim:!0}]])]),t("label",Y,[s[9]||(s[9]=t("span",null,"Auth profile",-1)),d(t("select",{"onUpdate:modelValue":s[3]||(s[3]=i=>e(o).form.authProfile=i),disabled:e(o).submitting},[s[8]||(s[8]=t("option",{value:""},"none",-1)),(r(!0),m(h,null,k(e(a),i=>(r(),m("option",{key:i.id,value:i.id},b(i.id)+" ("+b(i.type)+")",9,tt))),128))],8,Z),[[f,e(o).form.authProfile]])])])]))}},ot={class:"editor-section"},lt={class:"editor-section-title"},st={class:"editor-check"},it=["disabled"],dt={key:0,class:"editor-grid"},nt={class:"editor-field"},rt=["disabled"],at={class:"editor-field"},ut=["disabled"],mt={class:"editor-field"},pt=["disabled"],bt={__name:"ItemEditorLinkSection",setup(c){const u=_(),{itemEditor:o}=u;return(a,l)=>(r(),m("section",ot,[t("div",lt,[t("label",st,[d(t("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>e(o).form.healthcheckEnabled=s),type:"checkbox",disabled:e(o).submitting},null,8,it),[[$,e(o).form.healthcheckEnabled]]),l[4]||(l[4]=t("span",null,"Healthcheck",-1))])]),e(o).form.healthcheckEnabled?(r(),m("div",dt,[t("label",nt,[l[5]||(l[5]=t("span",null,"Healthcheck URL",-1)),d(t("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>e(o).form.healthcheckUrl=s),type:"url",placeholder:"https://service.example.com/health",autocomplete:"off",disabled:e(o).submitting},null,8,rt),[[n,e(o).form.healthcheckUrl,void 0,{trim:!0}]])]),t("label",at,[l[6]||(l[6]=t("span",null,"Интервал (sec)",-1)),d(t("input",{"onUpdate:modelValue":l[2]||(l[2]=s=>e(o).form.healthcheckIntervalSec=s),type:"number",min:"1",max:"3600",disabled:e(o).submitting},null,8,ut),[[n,e(o).form.healthcheckIntervalSec,void 0,{number:!0}]])]),t("label",mt,[l[7]||(l[7]=t("span",null,"Timeout (ms)",-1)),d(t("input",{"onUpdate:modelValue":l[3]||(l[3]=s=>e(o).form.healthcheckTimeoutMs=s),type:"number",min:"100",max:"120000",disabled:e(o).submitting},null,8,pt),[[n,e(o).form.healthcheckTimeoutMs,void 0,{number:!0}]])])])):g("",!0)]))}},ft={class:"editor-modal-header"},_t=["disabled"],ct={key:0,class:"widget-error"},vt={class:"editor-actions"},ht=["disabled"],gt=["disabled"],Ut={__name:"ItemEditorModal",setup(c){const u=_(),{itemEditor:o,closeItemEditor:a,submitItemEditor:l}=u;return(s,i)=>(r(),v(V,{open:e(o).open,"backdrop-class":"editor-modal-backdrop","modal-class":"editor-modal",onBackdrop:e(a)},{default:y(()=>[t("header",ft,[t("h3",null,b(e(o).mode==="create"?"Новый сервис":"Редактирование сервиса"),1),t("button",{class:"ghost",type:"button",disabled:e(o).submitting,onClick:i[0]||(i[0]=(...p)=>e(a)&&e(a)(...p))},"Закрыть",8,_t)]),t("form",{class:"editor-modal-form",onSubmit:i[2]||(i[2]=x((...p)=>e(l)&&e(l)(...p),["prevent"]))},[e(o).error?(r(),m("p",ct,b(e(o).error),1)):g("",!0),U(G),e(o).form.type==="link"?(r(),v(bt,{key:1})):(r(),v(et,{key:2})),t("div",vt,[t("button",{class:"ghost",type:"button",disabled:e(o).submitting,onClick:i[1]||(i[1]=(...p)=>e(a)&&e(a)(...p))},"Отмена",8,ht),t("button",{class:"ghost",type:"submit",disabled:e(o).submitting},b(e(o).submitting?"Сохранение...":e(o).mode==="create"?"Создать":"Сохранить"),9,gt)])],32)]),_:1},8,["open","onBackdrop"]))}};export{Ut as default};
