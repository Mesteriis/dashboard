import{o,c as r,k as t,F as k,m as M,u as n,t as l,s as N,l as T,p as m,q as F}from"./vendor-D7XMpWz6.js";import{u as f,a as q,b as A}from"./index-6CPe_cOb.js";import{aa as E,a4 as I}from"./vendor-icons-FSyGL1Zq.js";const z={class:"lan-table-wrap"},j={class:"lan-table"},G=["onClick"],J={key:0,class:"lan-service-links"},K=["href"],O={key:1},Q={key:0},R={__name:"LanHostsTable",setup($){const h=f(),{lanHosts:d,lanPortsLabel:u,openLanHostModal:a}=h;return(b,i)=>(o(),r("div",z,[t("table",j,[i[2]||(i[2]=t("thead",null,[t("tr",null,[t("th",null,"IP"),t("th",null,"Имя"),t("th",null,"MAC"),t("th",null,"Вендор"),t("th",null,"Тип устройства"),t("th",null,"Открытые порты"),t("th",null,"Сервисы dashboard")])],-1)),t("tbody",null,[(o(!0),r(k,null,M(n(d),e=>{var c;return o(),r("tr",{key:e.ip,class:"lan-host-row",onClick:_=>n(a)(e)},[t("td",null,l(e.ip),1),t("td",null,l(e.hostname||"—"),1),t("td",null,l(e.mac_address||"—"),1),t("td",null,l(e.mac_vendor||"—"),1),t("td",null,l(e.device_type||"—"),1),t("td",null,l(n(u)(e)),1),t("td",null,[(c=e.dashboard_items)!=null&&c.length?(o(),r("div",J,[(o(!0),r(k,null,M(e.dashboard_items,_=>(o(),r("a",{key:_.id,class:"lan-service-link",href:_.url,target:"_blank",rel:"noopener noreferrer",onClick:i[0]||(i[0]=N(()=>{},["stop"]))},l(_.title),9,K))),128))])):(o(),r("span",O,"—"))])],8,G)}),128)),n(d).length?T("",!0):(o(),r("tr",Q,[...i[1]||(i[1]=[t("td",{colspan:"7",class:"lan-empty"},"Хосты не обнаружены. Запустите сканирование вручную.",-1)])]))])])]))}},U={class:"panel lan-scan-panel"},W={key:0,class:"widget-error"},X={key:1,class:"widget-loading"},Y={class:"lan-summary-grid"},Z={class:"lan-summary-card"},tt={class:"lan-summary-card"},nt={class:"lan-summary-card"},st={class:"lan-summary-card"},lt={class:"lan-summary-card"},at={class:"lan-summary-card"},et={class:"lan-summary-card"},ot={class:"subtitle lan-meta-line"},rt={class:"subtitle lan-meta-line"},it={class:"subtitle lan-meta-line"},dt={__name:"LanScanPanel",setup($){const h=f(),{lanScanError:d,lanScanLoading:u,lanScanState:a,lanHosts:b,lanCidrsLabel:i,formatLanDuration:e,formatLanMoment:c}=h;return(_,s)=>{var g,y,p,S,v,C,L,w,x,P,V,B,H,D;return o(),r("section",U,[n(d)?(o(),r("p",W,l(n(d)),1)):n(u)&&!n(a)?(o(),r("p",X,"Загрузка состояния сканера...")):(o(),r(k,{key:2},[t("section",Y,[t("article",Z,[s[0]||(s[0]=t("p",null,"Статус",-1)),t("strong",null,l((g=n(a))!=null&&g.running?"Сканирование":(y=n(a))!=null&&y.queued?"В очереди":"Ожидание"),1)]),t("article",tt,[s[1]||(s[1]=t("p",null,"Хостов найдено",-1)),t("strong",null,l(n(b).length),1)]),t("article",nt,[s[2]||(s[2]=t("p",null,"Проверено IP",-1)),t("strong",null,l(((S=(p=n(a))==null?void 0:p.result)==null?void 0:S.scanned_hosts)??0),1)]),t("article",st,[s[3]||(s[3]=t("p",null,"Проверено портов",-1)),t("strong",null,l(((C=(v=n(a))==null?void 0:v.result)==null?void 0:C.scanned_ports)??0),1)]),t("article",lt,[s[4]||(s[4]=t("p",null,"Длительность",-1)),t("strong",null,l(n(e)((w=(L=n(a))==null?void 0:L.result)==null?void 0:w.duration_ms)),1)]),t("article",at,[s[5]||(s[5]=t("p",null,"Последний старт",-1)),t("strong",null,l(n(c)((x=n(a))==null?void 0:x.last_started_at)),1)]),t("article",et,[s[6]||(s[6]=t("p",null,"Следующий запуск",-1)),t("strong",null,l(n(c)((P=n(a))==null?void 0:P.next_run_at)),1)])]),t("p",ot,"Подсети: "+l(n(i)),1),t("p",rt," Планировщик: "+l(((V=n(a))==null?void 0:V.scheduler)||"asyncio")+" · интервал "+l(((B=n(a))==null?void 0:B.interval_sec)||1020)+" сек ",1),t("p",it,"Файл результата: "+l(((D=(H=n(a))==null?void 0:H.result)==null?void 0:D.source_file)||"не создан"),1),m(R)],64))])}}},ct={class:"hero-layout"},ut={class:"hero panel hero-title-panel"},_t={class:"hero-title-content"},pt={class:"panel hero-control-panel service-hero-controls"},mt={class:"hero-controls-content"},ht=["disabled"],kt={__name:"LanPageView",setup($){const h=f(),{isSidebarDetailed:d,lanScanActionBusy:u,lanScanState:a,openSettingsPanel:b,runLanScanNow:i,sidebarViewToggleTitle:e,toggleSidebarView:c}=h;return(_,s)=>{var g,y;return o(),r(k,null,[t("section",ct,[t("header",ut,[s[2]||(s[2]=t("div",{id:"hero-title-particles",class:"hero-panel-particles","aria-hidden":"true"},null,-1)),t("div",_t,[m(q)])]),t("aside",pt,[s[3]||(s[3]=t("div",{id:"hero-controls-particles",class:"hero-panel-particles","aria-hidden":"true"},null,-1)),t("div",mt,[t("button",{class:"hero-settings-secret-btn",type:"button",title:"Панель настроек","aria-label":"Открыть панель настроек",onClick:s[0]||(s[0]=(...p)=>n(b)&&n(b)(...p))},[m(n(E),{class:"ui-icon hero-action-icon"})]),t("button",{class:"ghost",type:"button",disabled:n(u)||!!((g=n(a))!=null&&g.running),onClick:s[1]||(s[1]=(...p)=>n(i)&&n(i)(...p))},l((y=n(a))!=null&&y.running?"Сканирование...":n(u)?"Запуск...":"Сканировать сейчас"),9,ht),m(A,{"button-class":"hero-icon-btn hero-accordion-action",active:!n(d),title:n(e),"aria-label":n(e),onClick:n(c)},{default:F(()=>[m(n(I),{class:"ui-icon hero-action-icon"})]),_:1},8,["active","title","aria-label","onClick"])])])]),m(dt)],64)}}};export{kt as default};
