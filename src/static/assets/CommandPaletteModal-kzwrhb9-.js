import{w as E,a as I,o as s,i as M,q as S,k as a,t as l,u as t,p as y,c,F as $,m as A,n as F,l as p,s as K,e as R}from"./vendor-DIhYXxpQ.js";import{_ as T}from"./BaseModal-CUtSK17p.js";import{u as L}from"./index-BVNRRkxR.js";import{ad as N,a7 as U}from"./vendor-icons-BwIvosaC.js";const V={class:"command-palette-header"},Q={class:"command-palette-shortcut"},q={class:"command-palette-search"},z=["value"],O={key:0,class:"command-palette-list",role:"listbox","aria-label":"Быстрый поиск сервиса"},j=["onMouseenter","onFocus","onClick"],G={class:"command-palette-entry-title"},H={class:"command-palette-entry-meta"},J={key:0},W={key:1},X={key:2},Y=["onClick"],Z={key:1,class:"command-palette-empty"},ne={__name:"CommandPaletteModal",setup(ee){var k;const C=L(),{commandPaletteActiveIndex:v,commandPaletteOpen:d,commandPaletteQuery:P,commandPaletteResults:u,activateCommandPaletteEntry:b,activateCommandPaletteSelection:w,closeCommandPalette:_,copyCommandPaletteEntryUrl:g,moveCommandPaletteSelection:h,setCommandPaletteActiveIndex:f,setCommandPaletteQuery:D}=C,i=R(null),x=/Mac|iPhone|iPad/i.test(((k=globalThis.navigator)==null?void 0:k.platform)||"")?"⌘K":"Ctrl+K";function B(o){if(o.key==="ArrowDown"){o.preventDefault(),h(1);return}if(o.key==="ArrowUp"){o.preventDefault(),h(-1);return}if(o.key==="Enter"){o.preventDefault(),w();return}o.key==="Escape"&&(o.preventDefault(),_())}return E(()=>d.value,async o=>{var n,e;o&&(await I(),(n=i.value)==null||n.focus(),(e=i.value)==null||e.select())}),(o,n)=>(s(),M(T,{open:t(d),"backdrop-class":"command-palette-backdrop","modal-class":"command-palette-modal",onBackdrop:t(_)},{default:S(()=>[a("header",V,[n[1]||(n[1]=a("div",null,[a("h3",null,"Быстрый поиск"),a("p",null,"Имя, IP, tag, site")],-1)),a("span",Q,l(t(x)),1)]),a("div",q,[y(t(N),{class:"ui-icon command-palette-search-icon"}),a("input",{ref_key:"inputRef",ref:i,class:"command-palette-input",type:"text",autocomplete:"off",spellcheck:"false",placeholder:"Поиск сервиса",value:t(P),onInput:n[0]||(n[0]=e=>t(D)(e.target.value)),onKeydown:B},null,40,z)]),t(u).length?(s(),c("ul",O,[(s(!0),c($,null,A(t(u),(e,m)=>(s(),c("li",{key:e.id,class:"command-palette-row"},[a("button",{class:F(["command-palette-entry",{active:m===t(v)}]),type:"button",onMouseenter:r=>t(f)(m),onFocus:r=>t(f)(m),onClick:r=>t(b)(e)},[a("span",G,l(e.title),1),a("span",H,[a("span",null,l(e.groupTitle)+" / "+l(e.subgroupTitle),1),e.host?(s(),c("span",J,l(e.host),1)):p("",!0),e.ip?(s(),c("span",W,l(e.ip),1)):p("",!0),e.site?(s(),c("span",X,"site: "+l(e.site),1)):p("",!0)])],42,j),a("button",{class:"ghost command-palette-copy",type:"button",title:"Скопировать URL",onClick:K(r=>t(g)(e),["stop"])},[y(t(U),{class:"ui-icon"})],8,Y)]))),128))])):(s(),c("p",Z,"Совпадений нет"))]),_:1},8,["open","onBackdrop"]))}};export{ne as default};
