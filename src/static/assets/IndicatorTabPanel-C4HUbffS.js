import{u as W}from"./index-DM2JwJc9.js";import{u as t,o as e,c as i,k as o,i as D,j as S,t as n,F as l,m as d,l as u}from"./vendor-DIhYXxpQ.js";import"./vendor-icons-BwIvosaC.js";const V={key:0,class:"panel indicator-tab-panel"},$={class:"indicator-tab-head"},x={class:"indicator-tab-title"},A={class:"indicator-tab-controls"},E={class:"item-type"},F={class:"indicator-tab-content"},L={key:0,class:"widget-error"},N={key:1,class:"widget-loading"},j={key:0,class:"widget-list"},P={key:1,class:"widget-empty"},R={key:0,class:"widget-table-wrap"},T={class:"widget-table"},q={key:1,class:"widget-empty"},z={key:0,class:"widget-actions"},G=["disabled","onClick"],Q={__name:"IndicatorTabPanel",setup(H){const v=W(),{activeIndicatorWidget:s,activeIndicatorViewId:w,resolveWidgetIcon:f,refreshWidget:C,widgetState:r,statListEntries:_,tableRows:p,isActionBusy:B,runWidgetAction:I}=v;return(J,c)=>{var y,h,k,g;return t(s)?(e(),i("section",V,[o("header",$,[o("div",x,[(e(),D(S(t(f)(t(s))),{class:"ui-icon widget-icon"})),o("h2",null,n(t(s).title),1)]),o("div",A,[o("span",E,n(t(s).type),1),o("button",{class:"ghost",type:"button",onClick:c[0]||(c[0]=a=>t(C)(t(s).id))},"Обновить"),o("button",{class:"ghost",type:"button",onClick:c[1]||(c[1]=a=>w.value="")},"Закрыть вкладку")])]),o("div",F,[(y=t(r)(t(s).id))!=null&&y.error?(e(),i("p",L,n((h=t(r)(t(s).id))==null?void 0:h.error),1)):(k=t(r)(t(s).id))!=null&&k.loading?(e(),i("p",N,"Обновление...")):t(s).type==="stat_list"?(e(),i(l,{key:2},[t(_)(t(s)).length?(e(),i("ul",j,[(e(!0),i(l,null,d(t(_)(t(s)),a=>(e(),i("li",{key:a.title+a.value},[o("span",null,n(a.title),1),o("strong",null,n(a.value),1)]))),128))])):(e(),i("p",P,"Нет данных"))],64)):t(s).type==="table"?(e(),i(l,{key:3},[t(p)(t(s)).length?(e(),i("div",R,[o("table",T,[o("thead",null,[o("tr",null,[(e(!0),i(l,null,d(t(s).data.columns,a=>(e(),i("th",{key:a.key},n(a.title),1))),128))])]),o("tbody",null,[(e(!0),i(l,null,d(t(p)(t(s)),(a,b)=>(e(),i("tr",{key:b},[(e(!0),i(l,null,d(t(s).data.columns,m=>(e(),i("td",{key:m.key},n((a==null?void 0:a[m.key])??"-"),1))),128))]))),128))])])])):(e(),i("p",q,"Нет данных"))],64)):u("",!0)]),(g=t(s).data.actions)!=null&&g.length?(e(),i("div",z,[(e(!0),i(l,null,d(t(s).data.actions,a=>(e(),i("button",{key:a.id,class:"ghost",type:"button",disabled:t(B)(t(s).id,a.id),onClick:b=>t(I)(t(s).id,a)},n(a.title),9,G))),128))])):u("",!0)])):u("",!0)}}};export{Q as default};
