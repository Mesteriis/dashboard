import{o,c as r,k as n,F as k,m as M,u as t,t as l,s as F,l as q,p as u,q as N}from"./vendor-D1bzbGly.js";import{u as f,_ as A,a as T}from"./index-D9Zi6sCu.js";import{ab as E,a4 as I}from"./vendor-icons-BtRhSBC4.js";const z={class:"lan-table-wrap"},j={class:"lan-table"},G=["onClick"],J={key:0,class:"lan-service-links"},K=["href"],O={key:1},Q={key:0},R={__name:"LanHostsTable",setup($){const m=f(),{lanHosts:d,lanPortsLabel:_,openLanHostModal:a}=m;return(g,i)=>(o(),r("div",z,[n("table",j,[i[2]||(i[2]=n("thead",null,[n("tr",null,[n("th",null,"IP"),n("th",null,"Имя"),n("th",null,"MAC"),n("th",null,"Вендор"),n("th",null,"Тип устройства"),n("th",null,"Открытые порты"),n("th",null,"Сервисы dashboard")])],-1)),n("tbody",null,[(o(!0),r(k,null,M(t(d),e=>{var c;return o(),r("tr",{key:e.ip,class:"lan-host-row",onClick:p=>t(a)(e)},[n("td",null,l(e.ip),1),n("td",null,l(e.hostname||"—"),1),n("td",null,l(e.mac_address||"—"),1),n("td",null,l(e.mac_vendor||"—"),1),n("td",null,l(e.device_type||"—"),1),n("td",null,l(t(_)(e)),1),n("td",null,[(c=e.dashboard_items)!=null&&c.length?(o(),r("div",J,[(o(!0),r(k,null,M(e.dashboard_items,p=>(o(),r("a",{key:p.id,class:"lan-service-link",href:p.url,target:"_blank",rel:"noopener noreferrer",onClick:i[0]||(i[0]=F(()=>{},["stop"]))},l(p.title),9,K))),128))])):(o(),r("span",O,"—"))])],8,G)}),128)),t(d).length?q("",!0):(o(),r("tr",Q,[...i[1]||(i[1]=[n("td",{colspan:"7",class:"lan-empty"},"Хосты не обнаружены. Запустите сканирование вручную.",-1)])]))])])]))}},U={class:"panel lan-scan-panel"},W={key:0,class:"widget-error"},X={key:1,class:"widget-loading"},Y={class:"lan-summary-grid"},Z={class:"lan-summary-card"},nn={class:"lan-summary-card"},tn={class:"lan-summary-card"},sn={class:"lan-summary-card"},ln={class:"lan-summary-card"},an={class:"lan-summary-card"},en={class:"lan-summary-card"},on={class:"subtitle lan-meta-line"},rn={class:"subtitle lan-meta-line"},dn={class:"subtitle lan-meta-line"},cn={__name:"LanScanPanel",setup($){const m=f(),{lanScanError:d,lanScanLoading:_,lanScanState:a,lanHosts:g,lanCidrsLabel:i,formatLanDuration:e,formatLanMoment:c}=m;return(p,s)=>{var h,b,y,S,v,C,L,w,x,P,V,B,H,D;return o(),r("section",U,[t(d)?(o(),r("p",W,l(t(d)),1)):t(_)&&!t(a)?(o(),r("p",X,"Загрузка состояния сканера...")):(o(),r(k,{key:2},[n("section",Y,[n("article",Z,[s[0]||(s[0]=n("p",null,"Статус",-1)),n("strong",null,l((h=t(a))!=null&&h.running?"Сканирование":(b=t(a))!=null&&b.queued?"В очереди":"Ожидание"),1)]),n("article",nn,[s[1]||(s[1]=n("p",null,"Хостов найдено",-1)),n("strong",null,l(t(g).length),1)]),n("article",tn,[s[2]||(s[2]=n("p",null,"Проверено IP",-1)),n("strong",null,l(((S=(y=t(a))==null?void 0:y.result)==null?void 0:S.scanned_hosts)??0),1)]),n("article",sn,[s[3]||(s[3]=n("p",null,"Проверено портов",-1)),n("strong",null,l(((C=(v=t(a))==null?void 0:v.result)==null?void 0:C.scanned_ports)??0),1)]),n("article",ln,[s[4]||(s[4]=n("p",null,"Длительность",-1)),n("strong",null,l(t(e)((w=(L=t(a))==null?void 0:L.result)==null?void 0:w.duration_ms)),1)]),n("article",an,[s[5]||(s[5]=n("p",null,"Последний старт",-1)),n("strong",null,l(t(c)((x=t(a))==null?void 0:x.last_started_at)),1)]),n("article",en,[s[6]||(s[6]=n("p",null,"Следующий запуск",-1)),n("strong",null,l(t(c)((P=t(a))==null?void 0:P.next_run_at)),1)])]),n("p",on,"Подсети: "+l(t(i)),1),n("p",rn," Планировщик: "+l(((V=t(a))==null?void 0:V.scheduler)||"asyncio")+" · интервал "+l(((B=t(a))==null?void 0:B.interval_sec)||1020)+" сек ",1),n("p",dn,"Файл результата: "+l(((D=(H=t(a))==null?void 0:H.result)==null?void 0:D.source_file)||"не создан"),1),u(R)],64))])}}},un={class:"hero-layout"},_n={class:"hero panel hero-title-panel"},pn={class:"hero-title-content"},mn={class:"panel hero-control-panel service-hero-controls"},hn={class:"hero-controls-content"},bn=["disabled"],fn={__name:"LanPageView",setup($){const m=f(),{isSidebarDetailed:d,lanScanActionBusy:_,lanScanState:a,openSettingsPanel:g,runLanScanNow:i,sidebarViewToggleTitle:e,toggleSidebarView:c}=m;return(p,s)=>{var h,b;return o(),r(k,null,[n("section",un,[n("header",_n,[s[1]||(s[1]=n("div",{id:"hero-title-particles",class:"hero-panel-particles","aria-hidden":"true"},null,-1)),n("div",pn,[u(A)])]),n("aside",mn,[s[2]||(s[2]=n("div",{id:"hero-controls-particles",class:"hero-panel-particles","aria-hidden":"true"},null,-1)),n("div",hn,[n("button",{class:"ghost",type:"button",disabled:t(_)||!!((h=t(a))!=null&&h.running),onClick:s[0]||(s[0]=(...y)=>t(i)&&t(i)(...y))},l((b=t(a))!=null&&b.running?"Сканирование...":t(_)?"Запуск...":"Сканировать сейчас"),9,bn),u(T,{"button-class":"hero-icon-btn hero-accordion-action",title:"Панель настроек","aria-label":"Открыть панель настроек",onClick:t(g)},{default:N(()=>[u(t(E),{class:"ui-icon hero-action-icon"})]),_:1},8,["onClick"]),u(T,{"button-class":"hero-icon-btn hero-accordion-action",active:!t(d),title:t(e),"aria-label":t(e),onClick:t(c)},{default:N(()=>[u(t(I),{class:"ui-icon hero-action-icon"})]),_:1},8,["active","title","aria-label","onClick"])])])]),u(cn)],64)}}};export{fn as default};
