import{_ as M}from"./BaseModal-CFGB73xZ.js";import{b as O,d as P,o as u,c as h,k as o,r as D,t as f,p as r,n as $,u as e,q as w,F,m as U,i as E,l as B,A as G,g as N,e as L,I as S}from"./vendor-VrLMmcOH.js";import{ag as R,ah as A,U as H,ai as K}from"./vendor-icons-DGefNpmJ.js";import{u as q}from"./index-DVQp2Lmt.js";const z=["aria-label","aria-expanded","disabled"],I={class:"hero-dropdown-label"},T={class:"hero-dropdown-value"},j=["aria-label"],J=["aria-selected"],Q=["onClick"],x={__name:"HeroDropdown",props:{modelValue:{type:String,default:""},label:{type:String,default:""},ariaLabel:{type:String,default:""},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:k}){const d=l,y=k,n=L(!1),c=L(null),p=N(()=>{var b;const a=d.options.find(s=>s.value===d.modelValue);return a?a.label:((b=d.options[0])==null?void 0:b.label)||""});function m(){d.disabled||(n.value=!n.value)}function V(a){y("update:modelValue",a),n.value=!1}function v(a){n.value&&c.value&&!c.value.contains(a.target)&&(n.value=!1)}function g(a){a.key==="Escape"&&(n.value=!1)}return O(()=>{window.addEventListener("pointerdown",v),window.addEventListener("keydown",g)}),P(()=>{window.removeEventListener("pointerdown",v),window.removeEventListener("keydown",g)}),(a,b)=>(u(),h("div",{ref_key:"rootRef",ref:c,class:"hero-dropdown"},[o("button",{class:"hero-dropdown-trigger",type:"button","aria-label":l.ariaLabel||l.label,"aria-haspopup":"listbox","aria-expanded":n.value,disabled:l.disabled,onClick:m},[D(a.$slots,"prefix",{},()=>[o("span",I,f(l.label),1)]),o("span",T,f(p.value),1),r(e(R),{class:$(["ui-icon hero-dropdown-caret",{open:n.value}])},null,8,["class"])],8,z),r(G,{name:"hero-dropdown-menu-transition"},{default:w(()=>[n.value?(u(),h("ul",{key:0,class:"hero-dropdown-menu",role:"listbox","aria-label":l.ariaLabel||l.label},[(u(!0),h(F,null,U(l.options,s=>(u(),h("li",{key:s.value,role:"option","aria-selected":l.modelValue===s.value},[o("button",{class:$(["hero-dropdown-option",{active:l.modelValue===s.value}]),type:"button",onClick:C=>V(s.value)},[o("span",null,f(s.label),1),l.modelValue===s.value?(u(),E(e(A),{key:0,class:"ui-icon hero-dropdown-check"})):B("",!0)],10,Q)],8,J))),128))],8,j)):B("",!0)]),_:1})],512))}},W={class:"settings-modal-header"},X={class:"settings-modal-grid"},Y={class:"settings-modal-section"},Z={class:"settings-modal-dropdowns"},ee={class:"settings-modal-section"},oe={class:"settings-modal-actions"},ie={__name:"DashboardSettingsModal",setup(l){const k=q(),{closeSettingsPanel:d,editMode:y,isSidebarHidden:n,openCommandPalette:c,serviceCardView:p,serviceGroupingMode:m,serviceGroupingOptions:V,servicePresentationOptions:v,settingsPanel:g,siteFilter:a,siteFilterOptions:b,toggleEditMode:s,toggleSidebarView:C}=k;function _(){d(),c()}return(te,t)=>(u(),E(M,{open:e(g).open,"backdrop-class":"settings-modal-backdrop","modal-class":"settings-modal",onBackdrop:e(d)},{default:w(()=>[o("header",W,[t[6]||(t[6]=o("div",null,[o("h3",null,"Настройки панели"),o("p",null,"Единая точка управления интерфейсом и режимами отображения.")],-1)),o("button",{class:"ghost",type:"button",onClick:t[0]||(t[0]=(...i)=>e(d)&&e(d)(...i))},"Закрыть")]),o("div",X,[o("section",Y,[t[7]||(t[7]=o("h4",null,"Отображение",-1)),o("div",Z,[r(x,{modelValue:e(p),"onUpdate:modelValue":t[1]||(t[1]=i=>S(p)?p.value=i:null),label:"Вид","aria-label":"Режим отображения сервисов",options:e(v)},null,8,["modelValue","options"]),r(x,{modelValue:e(m),"onUpdate:modelValue":t[2]||(t[2]=i=>S(m)?m.value=i:null),label:"Группировка","aria-label":"Группировка сервисов",options:e(V),disabled:e(n)},{prefix:w(()=>[r(e(H),{class:"ui-icon hero-dropdown-prefix-icon","aria-hidden":"true"})]),_:1},8,["modelValue","options","disabled"]),r(x,{modelValue:e(a),"onUpdate:modelValue":t[3]||(t[3]=i=>S(a)?a.value=i:null),label:"Site","aria-label":"Фильтр по площадке",options:e(b)},{prefix:w(()=>[r(e(K),{class:"ui-icon hero-dropdown-prefix-icon","aria-hidden":"true"})]),_:1},8,["modelValue","options"])])]),o("section",ee,[t[8]||(t[8]=o("h4",null,"Быстрые действия",-1)),o("div",oe,[o("button",{class:"ghost",type:"button",onClick:t[4]||(t[4]=(...i)=>e(C)&&e(C)(...i))},f(e(n)?"Показать меню":"Скрыть меню"),1),o("button",{class:"ghost",type:"button",onClick:t[5]||(t[5]=(...i)=>e(s)&&e(s)(...i))},f(e(y)?"Выключить edit mode":"Включить edit mode"),1),o("button",{class:"ghost",type:"button",onClick:_},"Открыть поиск (Ctrl/Cmd+K)")])])])]),_:1},8,["open","onBackdrop"]))}};export{ie as default};
